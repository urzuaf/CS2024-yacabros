---
import Layout from "../layouts/Acceso.astro"
---


<Layout title="Login | Sportify">
    <div class="flex flex-col justify-between items-center w-auto h-auto my-auto py-8 px-16 bg-gray-100 dark:bg-stone-950 border rounded-lg border-gray-300 dark:border-black">
        <header class="my-6">
            <h1 class="font-semibold text-4xl">Bienvenido</h1>
        </header>
        <form class="flex flex-col gap-4 my-4">
            <div class="min-w-72">
                <input type="email" id="email" placeholder="Correo electrónico" class="w-full px-4 py-2 bg-white dark:bg-gray-800 border rounded-lg border-gray-400 dark:border-gray-600 focus:border-green-600 focus:ring-green-600 focus:outline-none focus:ring focus:ring-opacity-40" />
            </div>

            <div class="min-w-72">
                <input type="password" placeholder="Contraseña" class="w-full px-4 py-2 bg-white dark:bg-gray-800 border rounded-lg border-gray-400 dark:border-gray-600 focus:border-green-600 focus:ring-green-600 focus:outline-none focus:ring focus:ring-opacity-40" />
            </div>

            <button class="w-full px-6 py-2 font-medium text-white transition-all duration-300 transform bg-green-600 rounded-lg hover:scale-105">
                Ingresar
            </button>
        </form>
        <aside class="flex flex-col items-center gap-1 mt-2">
            <a href="#" class="text-green-600 text-xs font-medium hover:underline">
                ¿Olvidaste tu contraseña?
            </a>
            <a href="#" class="text-black dark:text-gray-200 text-xs font-medium hover:underline">
                Registrarse
            </a>
        </aside>
    </div>
</Layout>


<script>

    var data={
        user:"",
        pass:"",
    }

    var btn = document.getElementById("login").addEventListener('click', async (event)=>{

        var username = document.getElementById("user") as HTMLInputElement;
        var password = document.getElementById("psw") as HTMLInputElement;    

        data.user= username.value,
        data.pass= password.value

    try{
        const response = await fetch('http://localhost:3000/');
        console.log(response+ " jolaaaaa");

        if(!response.ok)
            throw new Error('Error al obtener los datos del servidor');
        
        const rows = await response.json();
        console.log('Datos recibidos:', rows);
    }

    catch(error){
        console.error('Error:', error);
    }

    });

    

    


</script>